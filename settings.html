<html>
<head>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" rel="stylesheet">
<link href="/style.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.7.1/web3.min.js"></script>
<script src="/config.js"></script>
<script>
document.addEventListener("DOMContentLoaded", async () => {
  const web3 = new Web3(window.ethereum);
  const chainId = await web3.eth.getChainId()
  const network = (chainId === 4 ? "rinkeby" : "mainnet")
  document.querySelector(".network").innerHTML = network
  if (Config.private) {
    let info = await fetch("/privateclub").then((r) => { return r.json() })
    let tokenURI = info.tokenURI
    let metadata = await fetch("https://ipfs.io/ipfs/" + info.tokenURI.replace("ipfs://", "")).then((r) => {
      return r.json()
    })
    document.querySelector("#user").src = "https://ipfs.io/ipfs/" + metadata.image.replace("ipfs://", "")
  }
})
</script>
</head>
<body>
<nav>
  <a href="/"><img class='logo' src='/cell_icon.png'></a>
  <div class='flexible'></div>
  <a class='block' href="/settings">
    <span class='network'></span>
    <img id='user'>
  </a>
</nav>
<main>
  <div class='explain'>Log out</div>
  <form method="POST" action="/logout">
    <input type='submit' class='btn' value='Disconnect'>
  </form>
</main>
</body>
</html>
